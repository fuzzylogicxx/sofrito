// Buttons

// Give back a bit of padding that our reset took away

button {
  padding: .5em;
  svg {
    display: block;
    margin: 0 auto;
    font-size: 1em;
  }
}

// Check out: https://dev.to/elizabethschafer/designing-button-focus-states-for-better-usability-gm2









/**
 * Scott Oâ€™Hara https://scottaohara.github.io/a11y_styled_form_controls/
 * Shared styling among the different form controls.
 * Much of these styles are pulled from normalize.css.
 * Use as necessary within your own style sheets.
 */

input,
button,
textarea,
select {
  border-radius: 0; /* may change, but start consistently */
  box-sizing: border-box;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: normal;
  margin: 0;
  overflow: visible; /* show overflow in Edge */
  text-transform: none; /* remove inheritance Edge, Firefox, IE */
}

/**
 * Remove the Clear button added by MS browsers
 */
input::-ms-clear {
  display: none;
  height: 0;
  width: 0;
}


/**
 * <button> Focus Normalization:
 * remove FireFox specific inner focus styles.
 * focus style will be reapplied later.
 */
button::-moz-focus-inner {
  border-style: none;
  padding: 0;
}


/**
 * 1. Correct color inheritance in IE
 * 2. Correct the text wrapping in Edge and IE
 */
legend {
  color: inherit; /* 1 */
  display: table; /* 2 */
  line-height: normal;
  max-width: 100%; /* 2 */
  white-space: normal; /* 2 */
}


/**
 * 1. Remove webkit redesign of searches
 *
 * 2. Remove inner padding & search cancel button in Safari & Chrome on
 *    OS X. Safari (but not Chrome) clips the cancel button when the
 *    search input has padding (& `textfield` appearance).
 */
input[type="search"] {
  -webkit-appearance: none; /* 1 */
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button {
  -webkit-appearance: none; /* 2 */
  appearance: none;
}

/**
 * Component Specific Styling
 */
.search-widget {
  border: 1px solid $accessible-border-color;
  display: block;
  padding-right: 2.5em;
  position: relative;

  & svg {
    display: block;
    margin: 0 auto;
  }

  & > input[type="search"] {
    border-right: 1px solid $accessible-border-color;
    padding: .5em; // customise this when we get to the point of making form controls uniform.
    width: 100%;
  }

  & > [type="submit"] {
    background: $color-light;
    position: absolute;
    bottom: 0;
    right: 0;
    top: 0;
    width: 2.5em; // fit snugly into the gap we set up in the container.
  }

  // set how the input and button look when focused and hovered

  & > input[type="search"]:focus,
  & > [type="submit"]:not([disabled]):hover,
  & > [type="submit"]:focus {
    box-shadow: inset 0 0 0 1px $color-accent;
    outline: 1px solid $color-accent;
    outline-offset: 0;
  }

  & > input[type="search"]:focus {
    border-right-color: $color-accent;
  }

  & > [type="submit"]:not([disabled]):hover,
  & > [type="submit"]:focus {
    background: $color-accent;
  }

  & > [type="submit"]:focus svg,
  & > [type="submit"]:not([disabled]):hover svg {
    // Note: for our feather icon set icon, color works better here than fill.
    fill: #fff; // Note: if using the "feather" icon set icon, color works better here than fill.
  }

  /**
  * When input and button are disabled
  */
  & > [type="search"][disabled],
  & > [type="submit"][disabled] {
    background: #fafafa;
    cursor: not-allowed;
    opacity: .5;
  }

  // The -ms-high-contrast CSS media feature is a Microsoft extension describing whether the application is being displayed in high contrast mode, and with what color variation.
  // Scott uses it but going by https://developer.mozilla.org/en-US/docs/Web/CSS/@media/-ms-high-contrast it could perhaps be ditched at some point.

  @media screen and (-ms-high-contrast: active) {

    border: none;

    & > input[type="search"] {
      border: 1px solid;
      border-right: 1px solid;
      position: relative;
    }

    & > [type="submit"],
    & > input[type="search"]:focus {
      z-index: 4;
    }

    & > [type="submit"]:focus {
      border: 1px solid;
    }

    & svg {
      fill: #fff; // Note: if using the "feather" icon set icon, color works better here than fill.
    }

    & > [type="search"][disabled],
    & > [type="submit"][disabled] {
      opacity: .5;
    }
  }

}
