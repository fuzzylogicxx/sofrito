/**
 * Scott O’Hara https://scottaohara.github.io/a11y_styled_form_controls/
 * Shared styling among the different form controls.
 * Much of these styles are pulled from normalize.css.
 * Use as necessary within your own style sheets.
 */

input,
button,
textarea,
select {
  border-radius: 0; /* may change, but start consistently */
  box-sizing: border-box;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: normal;
  margin: 0;
  overflow: visible; /* show overflow in Edge */
  text-transform: none; /* remove inheritance Edge, Firefox, IE */
}

/**
 * Remove the Clear button added by MS browsers
 */
input::-ms-clear {
  display: none;
  height: 0;
  width: 0;
}


/**
 * <button> Focus Normalization:
 * remove FireFox specific inner focus styles.
 * focus style will be reapplied later.
 */
button::-moz-focus-inner {
  border-style: none;
  padding: 0;
}


/**
 * 1. Correct color inheritance in IE
 * 2. Correct the text wrapping in Edge and IE
 */
legend {
  color: inherit; /* 1 */
  display: table; /* 2 */
  line-height: normal;
  max-width: 100%; /* 2 */
  white-space: normal; /* 2 */
}



// Old School: Dan Cederholm form styles (a little modified)

.form-group {
  display: block;
  & b {
    display: block;
    font-weight: 700;
  }
}

input[type=text],
textarea {
  border: 1px solid $accessible-border-color;
  padding: .5em; // customise this when we get to the point of making form controls uniform.
  width: 100%;
}

// End Dan C



// search input component
// Scott O’Hara’s search component styles

/**
 * 1. Remove webkit redesign of searches
 *
 * 2. Remove inner padding & search cancel button in Safari & Chrome on
 *    OS X. Safari (but not Chrome) clips the cancel button when the
 *    search input has padding (& `textfield` appearance).
 */
input[type="search"] {
  -webkit-appearance: none; /* 1 */
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button {
  -webkit-appearance: none; /* 2 */
  appearance: none;
}

/**
 * Component Specific Styling
 */
.search-widget {
  border: 1px solid $accessible-border-color;
  display: block;
  padding-right: 2.5em;
  position: relative;

  & svg {
    display: block;
    margin: 0 auto;
  }

  & > input[type="search"] {
    border-right: 1px solid $accessible-border-color;
    padding: .5em; // customise this when we get to the point of making form controls uniform.
    width: 100%;
  }

  & > [type="submit"] {
    background: $color-light;
    position: absolute;
    bottom: 0;
    right: 0;
    top: 0;
    width: 2.5em; // fit snugly into the gap we set up in the container.
  }

  // set how the input and button look when focused and hovered

  & > input[type="search"]:focus,
  & > [type="submit"]:not([disabled]):hover,
  & > [type="submit"]:focus {
    box-shadow: inset 0 0 0 1px $color-accent;
    outline: 1px solid $color-accent;
    outline-offset: 0;
  }

  & > input[type="search"]:focus {
    border-right-color: $color-accent;
  }

  & > [type="submit"]:not([disabled]):hover,
  & > [type="submit"]:focus {
    background: $color-accent;
  }

  & > [type="submit"]:focus svg,
  & > [type="submit"]:not([disabled]):hover svg {
    // Note: for our feather icon set icon, color works better here than fill.
    fill: #fff; // Note: if using the "feather" icon set icon, color works better here than fill.
  }

  /**
  * When input and button are disabled
  */
  & > [type="search"][disabled],
  & > [type="submit"][disabled] {
    background: #fafafa;
    cursor: not-allowed;
    opacity: .5;
  }

  // The -ms-high-contrast CSS media feature is a Microsoft extension describing whether the application is being displayed in high contrast mode, and with what color variation.
  // Scott uses it but going by https://developer.mozilla.org/en-US/docs/Web/CSS/@media/-ms-high-contrast it could perhaps be ditched at some point.

  @media screen and (-ms-high-contrast: active) {

    border: none;

    & > input[type="search"] {
      border: 1px solid;
      border-right: 1px solid;
      position: relative;
    }

    & > [type="submit"],
    & > input[type="search"]:focus {
      z-index: 4;
    }

    & > [type="submit"]:focus {
      border: 1px solid;
    }

    & svg {
      fill: #fff; // Note: if using the "feather" icon set icon, color works better here than fill.
    }

    & > [type="search"][disabled],
    & > [type="submit"][disabled] {
      opacity: .5;
    }
  }

}






// <select> element
// Filament Group: Style a select like it’s 2019

/* class applies to select element itself, not a wrapper element */
.select-css {
  display: block;
  //font-size: 16px; // LH: maybe redeclare out base font-size but def don’t make it a pixel value
  //font-family: sans-serif; // LH
  //font-weight: 700; // LH: not necessary;
  color: #444;
  line-height: 1.3;
  padding: .6em 1.4em .5em .8em;
  width: 100%;
  max-width: 100%; /* useful when width is set to anything other than 100% */
  box-sizing: border-box;
  margin: 0;
  border: 1px solid #aaa;
  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
  border-radius: .5em;
  -moz-appearance: none;
  -webkit-appearance: none;
  appearance: none;
  background-color: #fff;
  /* note: bg image below uses 2 urls. The first is an svg data uri for the arrow icon, and the second is the gradient.
    for the icon, if you want to change the color, be sure to use `%23` instead of `#`, since it's a url. You can also swap in a different svg icon or an external image reference
  */
  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'),
    linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);
  background-repeat: no-repeat, repeat;
  /* arrow icon position (1em from the right, 50% vertical) , then gradient position*/
  background-position: right .7em top 50%, 0 0;
  /* icon size, then gradient */
  background-size: .65em auto, 100%;
}
/* Hide arrow icon in IE browsers */
.select-css::-ms-expand {
  display: none;
}
/* Hover style */
.select-css:hover {
  border-color: #888;
}
/* Focus style */
.select-css:focus {
  border-color: #aaa;
  /* It'd be nice to use -webkit-focus-ring-color here but it doesn't work on box-shadow */
  box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);
  box-shadow: 0 0 0 3px -moz-mac-focusring;
  color: #222;
  outline: none;
}

/* Set options to normal weight */
.select-css option {
  font-weight:normal;
}

/* Support for rtl text, explicit support for Arabic and Hebrew */
*[dir="rtl"] .select-css, :root:lang(ar) .select-css, :root:lang(iw) .select-css {
  background-position: left .7em top 50%, 0 0;
  padding: .6em .8em .5em 1.4em;
}




